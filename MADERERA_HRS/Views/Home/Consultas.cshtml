@{Layout = null;}
<!--
Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE html>
<html>
<head>
    <title>Inversiones H&R</title>
    <!--/tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="Elite Shoppy Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template,
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
    <script type="application/x-javascript">
        addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false);
               function hideURLbar(){ window.scrollTo(0,1); } </script>
    <!--//tags -->
    <link href="~/Plantilla Cliente/css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
    <link rel="stylesheet" type="text/css" href="~/Plantilla Cliente/css/jquery-ui.css">
    <link href="~/Plantilla Cliente/css/style.css" rel="stylesheet" type="text/css" media="all" />
    <link href="~/Plantilla Cliente/css/font-awesome.css" rel="stylesheet">
    <!-- //for bootstrap working -->
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800" rel="stylesheet">
    <link href='//fonts.googleapis.com/css?family=Lato:400,100,100italic,300,300italic,400italic,700,900,900italic,700italic' rel='stylesheet' type='text/css'>
</head>
<body>
    <!-- header -->
    <div class="header" id="home">
        <div class="container">
            <ul>
                @if (!User.Identity.IsAuthenticated)
                {
                    <li><i class="fa fa-phone" aria-hidden="true"></i> Tel: 973026984</li>
                    <li><i class="fa fa-envelope-o" aria-hidden="true"></i> <a href="#">hugorsanchez73@gmail.com</a></li>
                    <li> <a href="/Auth/Login"><i class="fa fa-unlock-alt" aria-hidden="true"></i>Iniciar sesión </a></li>
                    <li> <a href="/UsuarioCliente/Registrarse"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Registrarme </a></li>
                }
                else
                {
                    var claims = User.Claims.First();
                    var listaroles = claims.Subject.Claims.ToList();
                    var rol = listaroles[2].Value;

                    if (rol == "1")
                    {
                        <li><i class="fa fa-phone" aria-hidden="true"></i> Tel: 973026984</li>
                        <li><i class="fa fa-envelope-o" aria-hidden="true"></i> <a href="#">hugorsanchez73@gmail.com</a></li>
                        <li><i class="fa fa-user" aria-hidden="true"></i> <a href="/UsuarioCliente/Cuenta">Hola @User.Identity.Name</a></li>
                        <li><i class="fa fa-power-off" aria-hidden="true"></i><a @*style="margin-left:15px"*@ href="/Auth/Logaut">Cerrar sesión</a></li>
                    }
                    else
                    {
                        <li><i class="fa fa-phone" aria-hidden="true"></i> Tel: 973026984</li>
                        <li><i class="fa fa-envelope-o" aria-hidden="true"></i> <a href="#">hugorsanchez73@gmail.com</a></li>
                        <li> <a href="/Auth/Login"><i class="fa fa-unlock-alt" aria-hidden="true"></i>Iniciar sesión </a></li>
                        <li> <a href="/UsuarioCliente/Registrarse"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Registrarme </a></li>
                    }

                }
            </ul>
        </div>
    </div>
    <!-- //header -->
    <!-- header-bot -->
    <div class="header-bot">
        <div class="header-bot_inner_wthreeinfo_header_mid">
            <div class="col-md-4 header-middle">
                <form action="/Home/Productos" method="get" style="margin-top:15px">
                    <input type="search" name="query" placeholder="Busca aquí un producto" required="">
                    <input type="submit" value=" ">
                    <div class="clearfix"></div>
                </form>
            </div>
            <!-- header-bot -->
            <div class="col-md-5 logo_agile">
                <img style="width:380px;height:80px" src="/Plantilla Cliente/images/Captura.PNG">
            </div>
            <!-- header-bot -->
            <div class="col-md-3 agileits-social top_content" style="margin-top:5px">
                <ul class="social-nav model-3d-0 footer-social w3_agile_social">
                    <li class="share"></li>
                    <li>
                        <a href="#" class="facebook">
                            <div class="front"><i class="fa fa-facebook" aria-hidden="true"></i></div>
                            <div class="back"><i class="fa fa-facebook" aria-hidden="true"></i></div>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="twitter">
                            <div class="front"><i class="fa fa-twitter" aria-hidden="true"></i></div>
                            <div class="back"><i class="fa fa-twitter" aria-hidden="true"></i></div>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="instagram">
                            <div class="front"><i class="fa fa-instagram" aria-hidden="true"></i></div>
                            <div class="back"><i class="fa fa-instagram" aria-hidden="true"></i></div>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="pinterest">
                            <div class="front"><i class="fa fa-linkedin" aria-hidden="true"></i></div>
                            <div class="back"><i class="fa fa-linkedin" aria-hidden="true"></i></div>
                        </a>
                    </li>
                </ul>



            </div>
            <div class="clearfix"></div>
        </div>
    </div>
    <!-- //header-bot -->
    <!-- banner -->
    <div class="ban-top">
        <div class="container">
            <div class="top_nav_left">
                <nav class="navbar navbar-default">
                    <div class="container-fluid">
                        <!-- Brand and toggle get grouped for better mobile display -->
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </div>
                        <!-- Collect the nav links, forms, and other content for toggling -->
                        <div class="collapse navbar-collapse menu--shylock" id="bs-example-navbar-collapse-1">
                            <ul class="nav navbar-nav menu__list">
                                @if (User.Identity.IsAuthenticated)
                                {
                                    <li class=" menu__item"><a class="menu__link" href="/Home/Index">Inicio</a></li>
                                    <li class=" menu__item"><a class="menu__link" href="/Home/Productos">Productos</a></li>
                                    <li class=" menu__item"><a class="menu__link" href="/CotizacionCliente/Crear">Cotización</a></li>
                                    <li class=" menu__item"><a class="menu__link" href="/Home/Contacto">Contacto</a></li>
                                    @*<li class="active menu__item menu__item--current"><a class="menu__link" href="/Home/MisPedidosyCotizaciones">Mis pedidos y cotizaciones <span class="sr-only">(current)</span></a></li>*@
                                    <li class="dropdown menu__item">
                                        <a href="#" class="dropdown-toggle menu__link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Mis pedidos y cotizaciones <span class="caret"></span></a>
                                        <ul class="dropdown-menu multi-column columns-3">
                                            <div class="agile_inner_drop_nav_info">
                                                <div class="col-sm-12 multi-gd-img">
                                                    <ul class="multi-column-dropdown">
                                                        <li><a href="/Home/MisPedidos">Mis pedidos</a></li>
                                                        <li><a href="/Home/MisCotizaciones">Mis cotizaciones</a></li>
                                                    </ul>
                                                </div>
                                                <div class="clearfix"></div>
                                            </div>
                                        </ul>
                                    </li>

                                }
                                else
                                {
                                    <li class=" menu__item"><a class="menu__link" href="/Home/Index">Inicio</a></li>
                                    <li class=" menu__item"><a class="menu__link" href="/Home/Productos">Productos</a></li>
                                    <li class=" menu__item"><a class="menu__link" href="/CotizacionCliente/Crear">Cotización</a></li>
                                    <li class=" menu__item"><a class="menu__link" href="/Home/Contacto">Contacto</a></li>
                                    <li class="active menu__item menu__item--current"><a class="menu__link" href="/Home/Consultas">Consultar pedido presencial<span class="sr-only">(current)</span></a></li>
                                }
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
            <div class="top_nav_right">
                <div class="wthreecartaits wthreecartaits2 cart cart box_1">
                    @*<form action="#" method="post" class="last">*@
                    <input type="hidden" name="cmd" value="_cart">
                    <input type="hidden" name="display" value="1">
                    @if (User.Identity.IsAuthenticated)
                    {
                        var claims = User.Claims.First();
                        var listaroles = claims.Subject.Claims.ToList();
                        var rol = listaroles[2].Value;

                        if (rol == "1")
                        {
                            @*<button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg">Large modal</button>*@
                            <button id="modalpedidos" class="w3view-cart" type="submit" name="submit" value=""><i class="fa fa-cart-arrow-down" data-toggle="modal" data-target=".bd-example-modal-lg" aria-hidden="true"></i></button>
                        }
                        else
                        {
                            <button id="iconocarritosinloguear" class="w3view-cart" type="submit" name="submit" value=""><i class="fa fa-cart-arrow-down" aria-hidden="true"></i></button>
                        }
                    }
                    else
                    {
                        <button id="iconocarritosinloguear" class="w3view-cart" type="submit" name="submit" value=""><i class="fa fa-cart-arrow-down" aria-hidden="true"></i></button>
                    }


                    @*</form>*@

                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
    <!-- //banner-top -->
    <!-- Modal1 -->
    <!-- //Modal1 -->
    <!-- Modal2 -->
    <!-- //Modal2 -->
    <!-- /banner_bottom_agile_info -->
    <div class="page-head_agile_info_w3l">
        <div class="container">
            <h3>Estado de mi pedido<span>  </span></h3>
            <!--/w3_short-->
            <div class="services-breadcrumb">
                <div class="agile_inner_breadcrumb">
                    <ul class="w3_short">
                        <li><a href="/Home/Inicio">Inicio</a><i>|</i></li>
                        <li>Consultas</li>
                    </ul>
                </div>
            </div>
            <!--//w3_short-->
        </div>
    </div>
    <!--.-------------------------------------------Lista de pedidos//w3_short-->
    <div>
        <div class="container">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <br />
                <form action="/Home/Consultas" method="get">
                    <div class="col-md-8">
                        <input type="number" min="1" class="form-control" name="query" placeholder="Ingrese DNI o RUC" required />
                    </div>
                    <div class="col-md-4">
                        <button class="btn btn-warning">Consultar mi pedido</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="container">
            <div class="col-md-12">
                @if (ViewBag.PedidosPresenciales != null)
                {
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Fecha</th>
                                <th>Avance</th>
                                <th>Estado de pedido</th>
                                <th>Productos</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in ViewBag.PedidosPresenciales)
                            {
                                <tr>
                                    <td>@item.Cliente</td>
                                    <td>@item.Fecha</td>
                                    <td>
                                        @{string a = "";
                                            a = Convert.ToString(item.Avance + "%");
                                        }
                                        <div class="progress">
                                            <div class="progress-bar bg-primary" role="progressbar" style="width: @a" aria-valuenow="@item.Avance" aria-valuemin="0" aria-valuemax="100">@a</div>
                                            @item.Avance %
                                        </div>
                                    </td>
                                    <td>@item.Estado.Nombre</td>
                                    <td>
                                        <a class="verdetallepedido btn btn-success" data-idpedido="@item.Id_Pedido_Presencial" data-toggle="modal" data-target=".bd-example-modal-xl1"><span class="glyphicon glyphicon-eye-open"></span> Ver productos</a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                }
            </div>
        </div>
        <br />
        <br />
        <br />
    </div>
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />

    <br />
    <br />
    <br />
    <br />
    <!--<div class="banner-bootom-w3-agileits">
        <div class="container">-->
    <!-- mens -->
    <!--<div class="clearfix"></div>

            <div class="single-pro">



                <div class="clearfix"></div>
            </div>

            <div class="clearfix"></div>
        </div>
    </div>-->
    <!------------------------------------------------------------------------------------------------------------------------------->
    <!--Modal para mostrar los productos que tengo en mi carrito-->
    <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Productos agregados a mi carrito de pedido</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Imagen</th>
                                <th>Producto</th>
                                <th>Medidas</th>
                                <th>Cantidad</th>
                                <th>Precio</th>
                                <th>Subtotal</th>
                                <th>Opción</th>
                            </tr>
                        </thead>
                        <tbody id="tbodycarrito">
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" style="height:43px" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <a href="/PedidoCliente/Crear" style="height:43px" class="btn btn-success fa fa-shopping-cart"> Completar mi pedido</a>
                </div>
            </div>
        </div>
    </div>

    <!--Modal para mostrar el detalle de mi pedido que estoy seleccionando------------------->
    <!-- //mens -->
    <!--MODAL PARA AGREGAR UN NUEVO PRODUCTO A COTIZAR SI ESQUE ASÍ LO DESEO CUANDO AÚN NO E CONFIRMADO MI COTIZACION COMO PEDIDO-->
    <!-- Extra large modal -->

    <div class="modal fade bd-example-modal-xl1" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Agregar producto a cotizar</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="modalbodyagregarproductoacotizacion">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Producto</th>
                                <th>Medidas</th>
                                <th>Descripción</th>
                            </tr>
                        </thead>
                        <tbody id="tbodydetallepredido">
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!--Modal para hacer la confirmación de mi pedido luego de ser cotizado-->
    <!-- Modal -->
    <!-- footer -->

    <div class="footer">
        <div class="footer_agile_inner_info_w3l">
            <div class="col-md-3 footer-left">
                <h2><a href="~/Plantilla Cliente/index.html"><span>E</span>mpresa </a></h2>
                <p>
                    Nuestra empresa se caracteriza por brindar productos de primera calidad y seguridad, los mejores productos al gusto del cliente.
                </p>
                <ul class="social-nav model-3d-0 footer-social w3_agile_social two">
                    <li>
                        <a href="#" class="facebook">
                            <div class="front"><i class="fa fa-facebook" aria-hidden="true"></i></div>
                            <div class="back"><i class="fa fa-facebook" aria-hidden="true"></i></div>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="twitter">
                            <div class="front"><i class="fa fa-twitter" aria-hidden="true"></i></div>
                            <div class="back"><i class="fa fa-twitter" aria-hidden="true"></i></div>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="instagram">
                            <div class="front"><i class="fa fa-instagram" aria-hidden="true"></i></div>
                            <div class="back"><i class="fa fa-instagram" aria-hidden="true"></i></div>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="pinterest">
                            <div class="front"><i class="fa fa-linkedin" aria-hidden="true"></i></div>
                            <div class="back"><i class="fa fa-linkedin" aria-hidden="true"></i></div>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="col-md-9 footer-right">
                <div class="sign-grds">
                    <div class="col-md-4 sign-gd">
                        <h4>Nuestra <span>información</span> </h4>
                        <ul>
                            <li><a href="/Home/Index">Inicio</a></li>
                            <li><a href="/Home/Productos">Productos</a></li>
                            <li><a href="/CotizacionCliente/Crear">Cotizacion</a></li>
                            <li><a href="/Home/Contacto">Contacto</a></li>
                        </ul>
                    </div>
                    <div class="col-md-5 sign-gd-two">
                        <h4>Contactanos <span></span></h4>
                        <div class="w3-address">
                            <div class="w3-address-grid">
                                <div class="w3-address-left">
                                    <i class="fa fa-phone" aria-hidden="true"></i>
                                </div>
                                <div class="w3-address-right">
                                    <h6>Teléfono</h6>
                                    <p>+51 973026984</p>
                                </div>
                                <div class="clearfix"> </div>
                            </div>
                            <div class="w3-address-grid">
                                <div class="w3-address-left">
                                    <i class="fa fa-envelope" aria-hidden="true"></i>
                                </div>
                                <div class="w3-address-right">
                                    <h6>Correo</h6>
                                    <p>Email :<a href="#"> hugorsanchez73@gmail.com</a></p>
                                </div>
                                <div class="clearfix"> </div>
                            </div>
                            <div class="w3-address-grid">
                                <div class="w3-address-left">
                                    <i class="fa fa-map-marker" aria-hidden="true"></i>
                                </div>
                                <div class="w3-address-right">
                                    <h6>Ubicación</h6>
                                    <p>
                                        Psge. Santa Isabel Nº 101 Br. San Vicente - Cajamarca.
                                    </p>
                                </div>
                                <div class="clearfix"> </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 sign-gd flickr-post">
                        <h4>Nuestro <span>equipo</span></h4>
                        <ul>
                            <li><a href="#"><img src="~/Plantilla Cliente/images/t2.jpg" alt=" " class="img-responsive" /></a></li>
                            <li><a href="#"><img src="~/Plantilla Cliente/images/t3.jpg" alt=" " class="img-responsive" /></a></li>
                            <li><a href="#"><img src="~/Plantilla Cliente/images/t4.jpg" alt=" " class="img-responsive" /></a></li>
                        </ul>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
            <div class="clearfix"></div>

            <p class="copy-right">2021 - 2022 | Desarrollado por <a href="http://w3layouts.com/">w3layouts</a> y <a href="https://www.linkedin.com/in/jos%C3%A9-luis-fernando-d%C3%ADaz-ru%C3%ADz-476080202/">José Luis Fernado Díaz Ruíz</a></p>
        </div>
    </div>
    <!-- //footer -->
    <!-- login -->
    <!-- //login -->
    <a href="#home" class="scroll" id="toTop" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
    <!-- js -->
    <script type="text/javascript" src="~/Plantilla Cliente/js/jquery-2.1.4.min.js"></script>
    <!-- //js -->
    <script src="~/Plantilla Cliente/js/responsiveslides.min.js"></script>
    <script>
        // You can also use "$(window).load(function() {"
        $(function () {
            // Slideshow 4
            $("#slider3").responsiveSlides({
                auto: true,
                pager: true,
                nav: false,
                speed: 500,
                namespace: "callbacks",
                before: function () {
                    $('.events').append("<li>before event fired.</li>");
                },
                after: function () {
                    $('.events').append("<li>after event fired.</li>");
                }
            });
        });
    </script>
    <script src="~/Plantilla Cliente/js/modernizr.custom.js"></script>
    <!-- Custom-JavaScript-File-Links -->
    <!-- cart-js -->
    @*<script src="~/Plantilla Cliente/js/minicart.min.js"></script>
        <script>
            // Mini Cart
            paypal.minicart.render({
                action: '#'
            });

            if (~window.location.search.indexOf('reset=true')) {
                paypal.minicart.reset();
            }
        </script>*@

    <!-- //cart-js -->
    <!---->
    <script type='text/javascript'>
        //<![CDATA[
        $(window).load(function () {
            $("#slider-range").slider({
                range: true,
                min: 0,
                max: 9000,
                values: [1000, 7000],
                slide: function (event, ui) {
                    $("#amount").val("$" + ui.values[0] + " - $" + ui.values[1]);
                }
            });
            $("#amount").val("$" + $("#slider-range").slider("values", 0) + " - $" + $("#slider-range").slider("values", 1));

        });//]]>

    </script>
    <script type="text/javascript" src="~/Plantilla Cliente/js/jquery-ui.js"></script>
    <!---->
    <!-- start-smoth-scrolling -->
    <script type="text/javascript" src="~/Plantilla Cliente/js/move-top.js"></script>
    <script type="text/javascript" src="~/Plantilla Cliente/js/jquery.easing.min.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function ($) {
            $(".scroll").click(function (event) {
                event.preventDefault();
                $('html,body').animate({ scrollTop: $(this.hash).offset().top }, 1000);
            });
        });
    </script>
    <!-- here stars scrolling icon -->
    <script type="text/javascript">
        $(document).ready(function () {
            /*
                var defaults = {
                containerID: 'toTop', // fading element id
                containerHoverID: 'toTopHover', // fading element hover id
                scrollSpeed: 1200,
                easingType: 'linear'
                };
            */

            $().UItoTop({ easingType: 'easeOutQuart' });

        });
    </script>
    <!-- //here ends scrolling icon -->
    <!-- for bootstrap working -->
    <script type="text/javascript" src="~/Plantilla Cliente/js/bootstrap.js"></script>
</body>
</html>
@*<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>  Con esto es para hacer la cantidad*@


<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="~/lib/jquery/dist/jquery.js"></script>
<script>
    $("body").on("click", ".verdetallepedido", function (e) {
        var $this = $(this)
        e.preventDefault();
        var idpedido = $this.data("idpedido");
        var request1 = $.ajax({
            url: '/LlamadasAjax/ObtenerDetallePedidoPresencialCliente?idpedido=' + idpedido
        });
        request1.done(function (resp) {

            $("#tbodydetallepredido").html(resp);
        });
    });

    $("body").on("click", ".eliminaritemdetallepedido", function (e) {
        var $this = $(this)
        e.preventDefault();
        var iddetallecotizacion = $this.data("iddetallecotizacion");
        var idcotizacion = $this.data("idcotizacion");

        Swal.fire({
            title: 'Estas seguro?',
            text: "No podrás revertir esto!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            cancelButtonText: 'Cancelar',
            confirmButtonText: 'Si, eliminar producto!'
        }).then((result) => {
            if (result.isConfirmed) {
                const Toast = Swal.mixin({
                    toast: true,
                    position: 'top-end',
                    showConfirmButton: false,
                    timer: 3000,
                    timerProgressBar: true,
                    didOpen: (toast) => {
                        toast.addEventListener('mouseenter', Swal.stopTimer)
                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                    }
                })

                Toast.fire({
                    icon: 'success',
                    title: 'Se elimino con exito'
                })

                var request1 = $.ajax({
                    url: '/LlamadasAjax/EliminarItemDetalleCotizacion?iddetallecotizacion=' + iddetallecotizacion
                });
                request1.done(function (resp) {
                    if (resp == true) {
                        var request = $.ajax({
                            url: '/LlamadasAjax/ObtenerDetalleCotizacionCliente?idcotizacion=' + idcotizacion
                        });
                        request.done(function (resp) {
                            $("#detallecotizacion").html(resp);

                            var request3 = $.ajax({
                                url: '/LlamadasAjax/ObtenerCotizacionesCliente'
                            });
                            request3.done(function (resp) {
                                $("#tbodycotizacion").html(resp);
                            });
                            const Toast = Swal.mixin({
                                toast: true,
                                position: 'top-end',
                                showConfirmButton: false,
                                timer: 3000,
                                timerProgressBar: true,
                                didOpen: (toast) => {
                                    toast.addEventListener('mouseenter', Swal.stopTimer)
                                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                                }
                            })

                            Toast.fire({
                                icon: 'success',
                                title: 'Se elimino con exito'
                            })
                        });
                    }
                    else {
                        Swal.fire({
                            icon: 'error',
                            title: 'Oops...',
                            text: 'Algo salio mal!',
                            //footer: '<a href="">Why do I have this issue?</a>'
                        })
                    }
                });

            }
        })
    });

    $("body").on("click", ".actualizarcantidaddetallecotizacion", function (e) {
        var $this = $(this)
        e.preventDefault();
        var iddetallecotizacion = $this.data("iddetallecotizacion");
        var idcotizacion = $this.data("idcotizacion");

        Swal.fire({
            text: 'Actualizar cantidad de producto',
            input: 'number'
        }).then(function (result) {
            if (result.value) {
                const amount = result.value
                if (amount > 0) {
                    var request1 = $.ajax({
                        url: '/LlamadasAjax/ActualizarCantidadDeDetalleCotizacion?iddetallecotizacion=' + iddetallecotizacion + "&&cantidad=" + amount
                    });
                    request1.done(function (resp) {
                        if (resp == true) {
                            var request = $.ajax({
                                url: '/LlamadasAjax/ObtenerDetalleCotizacionCliente?idcotizacion=' + idcotizacion
                            });
                            request.done(function (resp) {
                                $("#detallecotizacion").html(resp);

                                var request3 = $.ajax({
                                    url: '/LlamadasAjax/ObtenerCotizacionesCliente'
                                });
                                request3.done(function (resp) {
                                    $("#tbodycotizacion").html(resp);
                                });
                                const Toast = Swal.mixin({
                                    toast: true,
                                    position: 'top-end',
                                    showConfirmButton: false,
                                    timer: 3000,
                                    timerProgressBar: true,
                                    didOpen: (toast) => {
                                        toast.addEventListener('mouseenter', Swal.stopTimer)
                                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                                    }
                                })

                                Toast.fire({
                                    icon: 'success',
                                    title: 'Se actualizo con exito'
                                })
                            });
                        }
                        else {
                            Swal.fire({
                                icon: 'error',
                                title: 'Oops...',
                                text: 'Algo salio mal!',
                                //footer: '<a href="">Why do I have this issue?</a>'
                            })
                        }
                    });
                } else {
                    Swal.fire({
                        icon: 'error',
                        title: 'Oops...',
                        text: 'La cantidad debe ser mayor a cero!'
                        //footer: '<a href="">Why do I have this issue?</a>'
                    })
                }
            } else {
                Swal.fire({
                    icon: 'error',
                    title: 'Oops...',
                    text: 'Asegurese de ingresar una cantidad!'
                    //footer: '<a href="">Why do I have this issue?</a>'
                })
            }
        })
    });


    //$("body").on("click", ".agregaracarrito", function (e) {
    //    var $this = $(this)
    //    e.preventDefault();
    //    var idproducto = $this.data("idproducto");

    //    var request1 = $.ajax({
    //        url: '/LlamadasAjax/VerificarSiUsuarioClienteExiste'
    //    });
    //    request1.done(function (resp) {
    //        if (resp == true) {
    //            var request = $.ajax({
    //                url: '/LlamadasAjax/AgregarProductoACarritoPedido?idproducto=' + idproducto
    //            });
    //            request.done(function (resp) {
    //                if (resp == true) {
    //                    Swal.fire({
    //                        position: 'top-end',
    //                        icon: 'success',
    //                        title: 'Tu producto se agregó con exito',
    //                        showConfirmButton: false,
    //                        timer: 1500
    //                    })
    //                }
    //                else {
    //                    Swal.fire({
    //                        icon: 'error',
    //                        title: 'Oops...',
    //                        text: 'Algo salio mal!',
    //                        //footer: '<a href="">Why do I have this issue?</a>'
    //                    })
    //                }
    //            });
    //        }
    //        else {
    //            Swal.fire({
    //                title: 'Aún no inicias sesión?',
    //                text: "Inicia sesión para agregar un producto!",
    //                icon: 'warning',
    //                showCancelButton: true,
    //                confirmButtonColor: '#3085d6',
    //                cancelButtonColor: '#d33',
    //                confirmButtonText: 'Iniciar sesión!'
    //            }).then((result) => {
    //                if (result.isConfirmed) {
    //                    location.href = "/Auth/Login"
    //                }
    //            })
    //        }
    //    });
    //});

    $("#iconocarritosinloguear").click(function () {
        Swal.fire({
            title: 'Aún no inicias sesión?',
            text: "Inicia sesión para ver tu carrito!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            cancelButtonText: 'Cancelar',
            confirmButtonText: 'Iniciar sesión!'
        }).then((result) => {
            if (result.isConfirmed) {
                location.href = "/Auth/Login"
            }
        })
    });

    $("#modalpedidos").click(function () {

        var request = $.ajax({
            url: '/LlamadasAjax/ObtenerProductosDeCarritoPedido'
        });
        request.done(function (resp) {
            $("#tbodycarrito").html(resp);
        });

    });

    $("body").on("click", ".eliminaritemcarrito", function (e) {
        var $this = $(this)
        e.preventDefault();
        var idcarritopedido = $this.data("idcarritopedido");

        var request1 = $.ajax({
            url: '/LlamadasAjax/EliminarProductoDeCarritoEnProductos?idcarritopedido=' + idcarritopedido
        });
        request1.done(function (resp) {
            if (resp == true) {
                var request = $.ajax({
                    url: '/LlamadasAjax/ObtenerProductosDeCarritoPedido'
                });
                request.done(function (resp) {
                    $("#tbodycarrito").html(resp);


                    const Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 3000,
                        timerProgressBar: true,
                        didOpen: (toast) => {
                            toast.addEventListener('mouseenter', Swal.stopTimer)
                            toast.addEventListener('mouseleave', Swal.resumeTimer)
                        }
                    })

                    Toast.fire({
                        icon: 'success',
                        title: 'Se elimino con exito'
                    })
                });
            }
            else {
                Swal.fire({
                    icon: 'error',
                    title: 'Oops...',
                    text: 'Algo salio mal!',
                    //footer: '<a href="">Why do I have this issue?</a>'
                })
            }
        });
    });

    $("body").on("click", ".actualizarcantidad", function (e) {
        var $this = $(this)
        e.preventDefault();
        var idcarritopedido = $this.data("idcarritopedido");

        Swal.fire({
            text: 'Actualizar cantidad de producto',
            input: 'number'
        }).then(function (result) {
            if (result.value) {
                const amount = result.value
                if (amount > 0) {
                    var request1 = $.ajax({
                        url: '/LlamadasAjax/ActualizarCantidadDeProductoDeCarrito?idcarritopedido=' + idcarritopedido + "&&cantidad=" + amount
                    });
                    request1.done(function (resp) {
                        if (resp == true) {
                            var request = $.ajax({
                                url: '/LlamadasAjax/ObtenerProductosDeCarritoPedidoEnCompletarPedido'
                            });
                            request.done(function (resp) {
                                $("#tbodycarrito").html(resp);


                                const Toast = Swal.mixin({
                                    toast: true,
                                    position: 'top-end',
                                    showConfirmButton: false,
                                    timer: 3000,
                                    timerProgressBar: true,
                                    didOpen: (toast) => {
                                        toast.addEventListener('mouseenter', Swal.stopTimer)
                                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                                    }
                                })

                                Toast.fire({
                                    icon: 'success',
                                    title: 'Se actualizo con exito'
                                })
                            });
                        }
                        else {
                            Swal.fire({
                                icon: 'error',
                                title: 'Oops...',
                                text: 'Algo salio mal!',
                                //footer: '<a href="">Why do I have this issue?</a>'
                            })
                        }
                    });
                } else {
                    Swal.fire({
                        icon: 'error',
                        title: 'Oops...',
                        text: 'La cantidad debe ser mayor a cero!'
                        //footer: '<a href="">Why do I have this issue?</a>'
                    })
                }
            } else {
                Swal.fire({
                    icon: 'error',
                    title: 'Oops...',
                    text: 'Asegurese de ingresar una cantidad!'
                    //footer: '<a href="">Why do I have this issue?</a>'
                })
            }
        })
    });
</script>